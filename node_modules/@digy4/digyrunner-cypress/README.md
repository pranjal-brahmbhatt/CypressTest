# digyrunner-cypress
DigyRunner for Cypress

# Steps to integrate

- Install this module

  ```npm install @digy4/digyrunner-cypress```

- Changes to cypress config, `cypress.config.js`

  - Include the module

    ```const { DigyRunner } = require("@digy4/digyrunner-cypress");```

  - Define the following configurations

    ```
    videosFolder: "cypress/videos",
    video: true,
    screenshotOnRunFailure: false,
    digyRunnerConfig: {
    PROTOCOL: "http",
    HOSTNAME: "localhost",
    PROJECT_NAME: "Digy4TestProject",
    TEAM_NAME: "TeamCypress1",
    BUILD_ID: "",
    SUITE_NAME: "Regression",
    APP_VERSION: "2.0",
    ENVIRONMENT: "test",
    FRAMEWORK: "cypress", // don't change
    MODULE_NAME: "SomeModuleName",
    TESTER: "Joe Bloggs",
    BA: "Joe Bloggs",
    DEVELOPER: "Joe Bloggs",
    RESULTS_SUMMARY_URL: ``,
    RESULTS_URL: ``,
    CLIENT_ID: ``,
    CLIENT_SECRET: ``,
    PROJECT_PLAN_URL: ``,
    LOGS_UPLOAD_BASE_URL: ``,
    TAGS: "",
    filterSpecs: true,
    omitFiltered: true,
    },
    ```

  - Register DigyRunner in `setupNodeEvents(on, config)`

    ```await DigyRunner.setup(on, config);```

- Add `.env` file with the following entries

  ```
  RESULTS_SUMMARY_URL=<RESULTS_SUMMARY_URL>

  RESULTS_URL=<RESULTS_URL>

  CLIENT_ID=<DIGY4_CLIENT_ID>

  CLIENT_SECRET=<DIGY4_CLIENT_SECRET>

  PROJECT_PLAN_URL=<PROJECT_PLAN_URL>

  LOGS_UPLOAD_BASE_URL=<LOGS_UPLOAD_BASE_URL>
  ```

- Redirect the output to terminal_log.txt file

  ```
  npm run cy:chrome 2>&1 | tee ./cypress/logs/terminal_log.txt
  ```
